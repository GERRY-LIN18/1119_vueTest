{"version":3,"file":"js/649.558ad531.js","mappings":"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","sources":["webpack://1119_vuetest/./src/views/NewsView.vue","webpack://1119_vuetest/./src/views/NewsView.vue?08b8"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"wrapper\">\n    <main>\n      <header>\n        search: <input type=\"text\" v-model=\"search\"><br>\n        $<input type=\"number\" v-model=\"min\">-<input type=\"number\" v-model=\"max\">\n      </header>\n      <template v-if=\"load\">loading...</template>\n      <template v-else>\n        <div class=\"productContainer\">\n          <div v-for=\"(item, index) in product\" :key=\"item.id\">\n            <p>{{ item.title }}</p>\n            {{ parseRating(item.rating) }}\n            <img :src=\"item.image\" v-bind:alt=\"item.title\">\n            <p>{{ parsePrice(item.price) }}ÂÖÉ</p>\n            <div>\n              <button v-on:click=\"reduceCount(index, item)\">-</button>\n              <input type=\"number\" min=\"0\" v-model=\"count[index]\">\n              <button @click=\"addCount(index, item)\">+</button>\n            </div>\n          </div>\n        </div>\n      </template>\n    </main>\n    <aside>\n      <ul>\n        <li v-for=\"(item, index) in order\" :key=\"item.id\">\n          {{ index }}-{{ item.title }}: {{ item.count }}\n        </li>\n      </ul>\n      <p>Á∏ΩÂÉπÔºö{{ total }}ÂÖÉ</p>\n    </aside>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      load: false,\n      source: [],\n      sourceCount: 0,\n      order: [],\n      // product: [],\n      count: [],\n      search: '',\n      min: 0,\n      max: 0,\n    }\n  },\n  computed: {\n    product() {\n      let cache = this.source\n      if (this.min > 0) {//ÁØ©ÈÅ∏ÊúÄÂ∞èÂÉπÈå¢\n        cache = cache.filter((item, index) => {\n          return item.price > this.min\n        })\n      }\n      if (this.max > 0) {//ÁØ©ÈÅ∏ÊúÄÂ§ßÂÉπÈå¢\n        cache = cache.filter(item => {\n          return item.price < this.max\n        })\n      }\n      if (this.search !== '') {//ÁØ©ÈÅ∏Áõ∏Á¨¶Ê®ôÈ°å\n        cache = cache.filter(item => {\n          return item.title.includes(this.search)\n        })\n      }\n      return cache\n    },\n    total() {\n      let total = 0\n      for (const countIndex in this.product) {\n        total += this.count[countIndex] * this.product[countIndex]['price']\n      }\n      return parseInt(total)\n    }\n  },\n  watch: {\n    //Áõ£ËÅΩdataÊàñcomputed\n    total: {\n      handler: function (newVal, oldVal) {\n        if (newVal > 1000) {\n          alert('‰Ω†Ë¶ÅÈ§ìÊ≠ª‰∫Ü')\n        }\n      }\n    }\n  },\n  methods: {\n    parseRating(rating) {\n      if (!rating) return null\n      let starStr = ''\n      const star = parseInt(rating.rate)\n      for (let index = 0; index < star; index++) {\n        starStr += 'üåü'\n      }\n      return `${starStr}${rating.count}`\n    },\n    parsePrice(price) {\n      return `TWD ${price * 33}`\n    },\n    getResource() {\n      this.load = true\n      fetch('https://fakestoreapi.com/products/')\n        .then(res => res.json())\n        .then(json => {\n          this.source = json\n          //ÂàùÂßãÂåñÂïÜÂìÅÊï∏Èáè\n          for (item in this.product) {\n            this.count.push(0)\n          }\n          this.load = false\n          this.sourceCount = this.source.length\n          // console.log('method:'+this.sourceCount);\n        })\n    },\n    addCount(index, item) {\n      this.count[index] += 1\n      // const exits = this.order.some(orderItem => {\n      //     // Ë®ÇÂñÆË£°Èù¢ÊúâÊ≤íÊúâ(orderItem)Â≠òÂú®Êñ∞Â¢ûÁöÑÂïÜÂìÅ(item)\n      //     return orderItem.id === item.id\n      // })\n      // Â¶ÇÊûúË®ÇÂñÆÊ∏ÖÂñÆË£°ÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Â∞áÂêåidÁöÑÂïÜÂìÅÂ¢ûÂä†Êï∏Èáècount\n      // ÂèñË®ÇÂñÆÂïÜÂìÅÁöÑÈ†ÜÂ∫è\n      const prodIndex = this.order.findIndex(orderItem => {\n        console.log(orderItem)\n        return orderItem.id === item.id\n      })\n      if (prodIndex >= 0) {\n        // Â∞áË®ÇÂñÆÂïÜÂìÅÊï∏Èáè+1\n        // this.order[prodIndex]['count'] = this.order[prodIndex]['count'] + 1 \n        this.order[prodIndex]['count'] += 1\n      } else {\n        //prodIndexÁµêÊûúÊúÉÊòØ-1\n        //Â¶ÇÊûúË®ÇÂñÆÊ∏ÖÂñÆË£°Ê≤íÊúâÈÄôÂÄãÂïÜÂìÅÔºåÂ∞±Êñ∞Â¢û‰∏ÄÂÄãË®ÇÂñÆÂïÜÂìÅ\n        this.order.push({\n          id: item.id,\n          title: item.title,\n          price: item.price,\n          count: 1 //init\n        })\n      }\n      this.setStorage()\n    },\n    reduceCount(index, item) {\n      if (this.count[index] <= 0) return\n      this.count[index] -= 1\n      const prodIndex = this.order.findIndex(orderItem => {\n        return orderItem.id === item.id\n      })\n      if (prodIndex < 0) return\n      if (this.order[prodIndex]['count'] > 1) {\n        // this.order[prodIndex]['count'] = this.order[prodIndex]['count'] - 1 \n        this.order[prodIndex]['count'] -= 1\n      } else {\n        this.order.splice(prodIndex, 1)\n      }\n      this.setStorage()\n    },\n    getStorage() {\n      let data = localStorage.getItem('turleShop')\n      data = JSON.parse(data)\n      this.order = data ? data : []\n    },\n    setStorage() {\n      //Èô£ÂàóÊàñÁâ©‰ª∂ËΩâÂ≠ó‰∏≤\n      const data = JSON.stringify(this.order)\n      localStorage.setItem('turleShop', data)\n    }\n  },\n  created() {\n    // console.log('created:'+this.source.length);\n    // this.getResource()\n  },\n  mounted() {\n    this.getResource()\n    this.getStorage()\n    this.sourceCount = this.source.length\n    // console.log('mounted:'+this.sourceCount);\n  },\n  beforeUnmount() {\n    // alert('beforeUnmount')\n    // console.log('beforeUnmount');\n  }\n}\n\n</script>","import { render } from \"./NewsView.vue?vue&type=template&id=66f06345\"\nimport script from \"./NewsView.vue?vue&type=script&lang=js\"\nexport * from \"./NewsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Tibame_T14\\\\Documents\\\\1119_vuetest\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","_createElementBlock","_hoisted_1","type","$data","_hoisted_2","_Fragment","key","_hoisted_3","$options","item","index","title","rating","src","image","alt","price","onClick","min","count","data","load","source","sourceCount","order","search","max","computed","product","cache","this","filter","includes","total","countIndex","parseInt","watch","handler","newVal","oldVal","alert","methods","parseRating","starStr","star","rate","parsePrice","getResource","fetch","then","res","json","push","length","addCount","prodIndex","findIndex","orderItem","console","log","setStorage","reduceCount","splice","getStorage","localStorage","getItem","JSON","parse","stringify","setItem","created","mounted","beforeUnmount","__exports__","render"],"sourceRoot":""}